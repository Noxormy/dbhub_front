(this.webpackJsonpdbhub_front=this.webpackJsonpdbhub_front||[]).push([[0],{369:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n(55),s=n.n(r),o=(n(72),n(73),n(21)),i=n(2),u=n(372),l="/dbhub_front/",b=n(4),d=(n(74),n(15)),j=n.n(d),h=n(34),m="https://dbhub-py.herokuapp.com/",f="create-new-user",p="token",x="dbName";function O(){return(O=Object(h.a)(j.a.mark((function e(){var t,n,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem(p),n=localStorage.getItem(x),!t||!n){e.next=4;break}return e.abrupt("return",{token:t,dbName:n});case 4:return e.next=6,fetch("".concat(m,"/").concat(f));case 6:if(!(a=e.sent).ok){e.next=16;break}return e.next=10,a.json();case 10:return c=e.sent,localStorage.setItem(p,c.token),localStorage.setItem(x,c.db_name),e.abrupt("return",{token:c.token,dbName:c.db_name});case 16:throw new Error(a.statusText);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem(p),localStorage.removeItem(x);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=Object(c.createContext)(null);function _(){return Object(c.useContext)(g)}function y(){var e=Object(c.useState)(null),t=Object(b.a)(e,2),n=t[0],a=t[1];return{user:n,signIn:function(e,t){return t(!0),function(){return O.apply(this,arguments)}().then((function(n){a({dbName:n.dbName,token:n.token}),t(!1),e()}))},signOut:function(e){return function(){return v.apply(this,arguments)}().then((function(){a(null),e()}))}}}n(76);function N(e){var t=e.name,n=e.callback;return Object(a.jsxs)("div",{className:"btn-cont",children:[Object(a.jsx)("button",{onClick:n,className:"button"}),Object(a.jsx)("label",{className:"button-label",children:t})]})}n(77);function k(e){var t=e.isLoading?"2s ease-in-out infinite loading":"none";return Object(a.jsxs)("div",{className:"loadingBar",children:[Object(a.jsx)("div",{className:"loaderPlaceholder"}),Object(a.jsx)("div",{className:"loader",style:{animation:t}})]})}function w(){var e=Object(u.a)().t,t=Object(i.g)(),n=_(),r=Object(c.useState)(!1),s=Object(b.a)(r,2),o=s[0],d=s[1];return Object(a.jsxs)("div",{className:"createElement",children:[Object(a.jsx)(k,{isLoading:o}),Object(a.jsx)("h2",{children:e("create_in_one_click")}),Object(a.jsx)("h3",{children:e("make_it_easy")}),Object(a.jsx)(N,{name:e("create_database"),callback:function(){return n.signIn((function(){return t.push("".concat(l,"credentials"))}),d)}})]})}n(85),n(86);function S(e){var t=e.buttons,n=e.started,r=e.className,s=e.cb,o=Object(c.useState)(n),i=Object(b.a)(o,2),u=i[0],l=i[1],d=function(e,t,n){var a=t.reduce((function(e,t){return t.isDisabled?e:e++}),0);return function(t){var c=t.name===e.name?"toggled":"",r=t.isDisabled?"disabled noResize":a<=1?"noResize":"",s=t.isDisabled?function(){}:function(){return n(t)};return t.isDisabled&&(t.name="\u2298".concat(" ",t.name)),["".concat(c," ").concat(r),s]}}(u,t,(function(e){e.name!==u.name&&(l(e),s(e))})),j=t.map((function(e,t){var n=d(e),c=Object(b.a)(n,2),r=c[0],s=c[1];return Object(a.jsx)("div",{className:"toggleButton ".concat(r),onClick:s,children:e.name},t)}));return Object(a.jsx)("div",{className:"toggleButtons ".concat(r),children:j})}var I=function(e,t,n){return{python:"from dbhub import get_database\n\ndb = get_database(\n   token='".concat(t,"',\n   db_name='").concat(n,"'\n)\n\ncollection = db.get_collection('users')\ncollection[1] = {'name': 'Ivan'}\nuser = collection[1]\nuser.age = 5\ncollection.update({1: {'age': user.age}})\n# user = {name: 'Ivan', age: user}\n\ndel collection[1]"),javascript:"const {getDatabase} = require('dbhub');\n\nconst db = getDatabase(\n   '".concat(t,"',\n   '").concat(n,"'\n);\n\nconst collection = db.getCollection('users');\ncollection[1] = {name: 'Ivan'}\nlet user = collection[1]\nuser.age = 5\ncollection.update({1: {age: user.age}})\n// user = {name: 'Ivan', age: user}\n\ncollection.delete(1)")}[e]},E=function(e){return{javascript:"npm install dbhub -s",python:"pip install dbhub"}[e]};var A=Object(a.jsx)("svg",{className:"copy",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64",children:Object(a.jsxs)("g",{"data-name":"Layer 3",children:[Object(a.jsx)("path",{d:"M40.63,13H12.38A4.69,4.69,0,0,0,7.7,17.67V57.31A4.69,4.69,0,0,0,12.38,62H40.63a4.69,4.69,0,0,0,4.69-4.69V17.67A4.69,4.69,0,0,0,40.63,13Zm2.69,44.33A2.69,2.69,0,0,1,40.63,60H12.38A2.69,2.69,0,0,1,9.7,57.31V17.67A2.69,2.69,0,0,1,12.38,15H40.63a2.69,2.69,0,0,1,2.69,2.69Z"}),Object(a.jsx)("path",{d:"M51.74,2H23.26a4.58,4.58,0,0,0-4.58,4.57v3.55a1,1,0,0,0,2,0V6.57A2.58,2.58,0,0,1,23.26,4H51.74A2.57,2.57,0,0,1,54.3,6.57V46.44A2.58,2.58,0,0,1,51.74,49H48.5a1,1,0,0,0,0,2h3.24a4.58,4.58,0,0,0,4.57-4.58V6.57A4.57,4.57,0,0,0,51.74,2Z"})]})}),C=Object(a.jsx)("svg",{className:"copy",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(a.jsx)("path",{d:"M20.285 2l-11.285 11.567-5.286-5.011-3.714 3.716 9 8.728 15-15.285z"})}),D=(n(87),n(64)),L=n(371),B=[];function H(e){var t=e.className,n=e.text,r=e.textToCopy,s=e.language,o=e.showLineNumbers,i=void 0!==o&&o,u=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],a=t[1];Object(c.useEffect)((function(){return B.push(a),document.addEventListener("copy",r),r(),function(){return document.removeEventListener("copy",r)}}),[]);var r=function(){navigator.clipboard.readText().then((function(e){B.forEach((function(t){return t(e)}))})).catch((function(e){console.error("Failed to read clipboard contents: ",e)}))};return[n,function(e){navigator.clipboard.writeText(e),r()}]}(),l=Object(b.a)(u,2),d=l[0],j=l[1],h=d===(r=r||n)?C:A;return Object(a.jsxs)("div",{className:"textBlock",children:[Object(a.jsx)(L.a,{className:"bordered ".concat(t),language:s,style:D.cb,showLineNumbers:i,children:n}),Object(a.jsx)("div",{onClick:function(){return j(r)},children:h})]})}var V="instructions";function T(){var e=Object(u.a)().t,t=_(),n=t.user.token,r=t.user.dbName,s=function(){var e=Object(c.useState)({width:void 0,height:void 0}),t=Object(b.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){function e(){a({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}().width<500,o=[{name:"javascript",isDisabled:!0},{name:"python",isDisabled:!1}],i=Object(c.useState)(o.find((function(e){return!e.isDisabled}))),l=Object(b.a)(i,2),d=l[0],j=l[1],h=d.name;return Object(c.useEffect)((function(){document.getElementById(V).classList.add("appear")})),Object(a.jsxs)("div",{id:V,children:[Object(a.jsx)(S,{className:"languageToggle",buttons:o,started:d,cb:j}),Object(a.jsx)("h3",{className:"label",children:e("your_api_key")}),Object(a.jsx)(H,{text:n,className:"bordered",language:"bash"}),Object(a.jsx)("h3",{className:"label",children:e("your_db_name")}),Object(a.jsx)(H,{text:r,className:"bordered",language:"bash"}),Object(a.jsx)(H,{text:"$ "+E(h),textToCopy:E(h),className:"bordered",language:"bash"}),Object(a.jsx)(H,{text:I(h,n,r),className:"bordered",showLineNumbers:!s,language:h})]})}function z(e){var t=e.children,n=y();return Object(a.jsx)(g.Provider,{value:n,children:t})}function J(e){var t=e.children,n=_();return Object(a.jsx)(i.b,{render:function(e){var c=e.location;return n.user?t:Object(a.jsx)(i.a,{to:{pathname:l,state:{from:c}}})}})}function M(e){var t=e.className,n=Object(u.a)().t;return Object(a.jsx)("div",{className:t,children:Object(a.jsx)("a",{href:"https://pay.cloudtips.ru/p/ace9a3eb",children:n("donation")})})}var Z=function(){var e=Object(u.a)().t;return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsxs)("header",{className:"header",children:["DB",Object(a.jsx)("span",{className:"header-selection",children:"hub"})]}),Object(a.jsx)(z,{children:Object(a.jsx)(o.a,{children:Object(a.jsxs)(i.d,{children:[Object(a.jsx)(i.b,{exact:!0,path:"".concat(l),children:Object(a.jsx)(w,{})}),Object(a.jsx)(J,{path:"".concat(l,"credentials"),children:Object(a.jsx)(T,{})})]})})}),Object(a.jsxs)("div",{className:"signs",children:[Object(a.jsx)(M,{className:"donations"}),Object(a.jsxs)("div",{children:[e("created_by")," ",Object(a.jsx)("a",{href:"https://twitter.com/nnoxnnox",children:"@noxormy"})]})]})]})},P=n(37),R=n(16),Y={en:{translation:n(65)},ru:{translation:n(66)}};P.a.use(R.e).init({resources:Y,lng:"en",keySeparator:!1,interpolation:{escapeValue:!1}});P.a;s.a.render(Object(a.jsx)(Z,{}),document.getElementById("root"))},65:function(e){e.exports=JSON.parse('{"created_by":"Created by","create_in_one_click":"Create database in one click","create_database":"Create Database","make_it_easy":"Make it easy!","your_api_key":"Your api key:","your_db_name":"Your database name:","donation":"Support the project"}')},66:function(e){e.exports=JSON.parse('{"created_by":"\u0421\u043e\u0437\u0434\u0430\u043d\u043e:","create_in_one_click":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 \u0437\u0430 \u043e\u0434\u0438\u043d \u043a\u043b\u0438\u043a?","create_database":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0431\u0434","make_it_easy":"\u042d\u0442\u043e \u043b\u0435\u0433\u043a\u043e!","your_api_key":"\u0412\u0430\u0448 \u0430\u043f\u0438 \u043a\u043b\u044e\u0447:","your_db_name":"\u0418\u043c\u044f \u0432\u0430\u0448\u0435\u0439 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445:","donation":"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442"}')},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){}},[[369,1,2]]]);
//# sourceMappingURL=main.91e88ce0.chunk.js.map